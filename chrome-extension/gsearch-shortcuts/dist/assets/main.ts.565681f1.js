const g=["table","g-inner-card","g-expandable-container","g-accordion-expander","g-scrolling-carousel","[jsslot]"];let i=0,u=[];const y=()=>{const e=document.createElement("style");document.body.appendChild(e),u=L(),u.forEach(t=>{t.setAttribute("data-gsrks-anchor","")})},L=()=>{const e=["g-link > a:first-of-type","a > h3"],t=Array.from(document.querySelectorAll(e.map(s=>`#search ${s}`).join(","))),r=Array.from(document.querySelectorAll(g.map(s=>e.map(c=>`#search ${s} ${c}`).join(",")).join(",")));return t.filter(s=>!r.includes(s)).reduce((s,c)=>(c.tagName==="H3"?s.push(c.parentElement):c.children.length===0&&s.push(c),s),[])},v=()=>document.querySelector("#pnnext"),K=()=>document.querySelector("#pnprev"),f=e=>e>=0&&e<u.length?(i=e,u[i].focus(),!0):!1,A=()=>f(i+1),b=()=>f(i-1),k=()=>{const e=v();return e?(e.click(),!0):!1},w=()=>{const e=K();return e?(e.click(),!0):!1},E=()=>f(0),P={start:"",tbs:"",tbm:""},a=e=>{const t=new URL(document.location.href),r=t.searchParams;Object.entries({...P,...e}).forEach(([n,o])=>r.set(n,o)),location.href=t.href},x=()=>{a({tbm:""})},j=()=>{a({tbm:"isch"})},q=()=>{a({tbm:"vid"})},R=()=>{a({tbm:"nws"})},$=()=>{a({tbs:"li:1"})},D=()=>{const t=new URL(document.location.href).searchParams.get("q");location.href=`/maps/search/${t}`},I=[[["ArrowDown","j"],()=>A()],[["ArrowUp","k"],()=>b()],[["ArrowRight","l"],()=>k()],[["ArrowLeft","h"],()=>w()],[["g"],()=>m=!0]];let m=!1;const N=[[["a"],()=>x()],[["i"],()=>j()],[["m"],()=>D()],[["v"],()=>q()],[["n"],()=>R()],[[["shift","V"]],()=>$()]],h=e=>e.map(t=>t.toLowerCase()).sort().join("-"),p=e=>e.map(([t,r])=>{const n=t.map(o=>Array.isArray(o)?h(o):o).join("|");return[new RegExp(`^(${n})$`,"i"),r]}),S=p(I),T=p(N),H=/^(shift|alt|control|meta)$/i,M=e=>{const t={shift:e.shiftKey,alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey},r=Object.entries(t).reduce((n,[o,s])=>s?[...n,o]:n,[e.key]);return h(r)},d=e=>{if(H.test(e.key))return;const t=M(e);m&&(m=!1,T.some(([n,o])=>n.test(t)?(o(),e.preventDefault(),!0):!1))||S.some(([r,n])=>r.test(t)?(n()&&e.preventDefault(),!0):!1)},l=e=>{e?(document.addEventListener("keydown",d),E()):document.removeEventListener("keydown",d)},U=()=>{y(),document.querySelectorAll("input, textarea").forEach(t=>{t.addEventListener("focusin",()=>l(!1)),t.addEventListener("focusout",()=>l(!0))}),l(!0)};U();
